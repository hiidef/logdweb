{% extends "logdweb/base.jinja" %}
{% import "logdweb/lib.jinja" as lib %}

{% block header %}
	<h1 class="title"><a href="{{ reverse('logd-index') }}">logd admin</a></h1>
{% endblock %}

{% block sidebar %}
	<h2>logfiles</h2>
	<ul>
		{% for logfile in info['logfiles'] %}
			<li>
			{% if path and path == logfile['path'] %}
				{{ logfile['path'] }} ({{ logfile['length'] }})
			{% else %}
				<a href="{{ reverse('logd-path-index', kwargs={'path':logfile['path']}) }}">{{ logfile['path'] }}</a>
				({{ logfile['length'] }})
			{% endif %}
			</li>
		{% endfor %}
	</ul>
{% endblock %}

{% block main %}
	{% if path %}
		<h2>{% if level or logger %}<a href="{{ reverse('logd-path-index', kwargs={'path':path}) }}">{{ path }}</a>{% else %}{{ path }}{% endif %}</h2>
		<table class="log" id="{{ path }}">
			{% for line in lines %}
				{{ lib.render_line(line, path) }}
			{% endfor %}
		</table>
	{% endif %}
{% endblock %}
